# Local anchor definitions for external component examples. There isn't a native OpenAPI way to
# cross-reference examples across files, so we define them here for reuse.
_imported_examples:
  uuid-example: &uuid-example "3fa85f64-5717-4562-b3fc-2c963f66afa6"
  uuid-example-2: &uuid-example-2 "123e4567-e89b-12d3-a456-426614174000"
  uuid-example-3: &uuid-example-3 "123e4567-e89b-12d3-a456-426614174001"
  property-address-example: &property-address-example
    id: *uuid-example
    addressLine1: "123 Main St"
    addressLine2: "Suite 456"
    streetNr: "123"
    streetNrSuffix: "A"
    streetNrLast: "125"
    streetNrLastSuffix: "B"
    streetName: "Main"
    subUnitType: "Apartment"
    subUnitNr: "A12"
    levelType: "Floor"
    levelNr: "3"
    buildingName: "Sunset Towers"
    privateStreetName: "Private Rd"
    locality: "Example Locality"
    city: "Example State"
    stateOrProvince: "EX"
    country: "United States"
    postCode: "12345"
    postCodeExtension: "6789"
  service-site-example: &service-site-example
    id: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
    name: "Primary Residence"
    description: "123 Main Street"
    location: *property-address-example

components:
  parameters:
    serviceId:
      name: serviceId
      in: path
      description: The unique identifier of the Service. If the service exists but the caller lacks permission to access it, the API returns 403.
      required: true
      schema:
        $ref: "#/components/schemas/ServiceId"

  schemas:
    ServiceId:
      allOf:
        - $ref: "../NAM_Common.yaml#/components/schemas/UUID"
      description: |
        A unique identifier that represents a service account associated with this resource.

        Must be a valid UUID as defined by RFC 4122 (versions 1-5) using only lowercase hexadecimal characters.

    Service:
      type: object
      description: |
        A service represents a logical commercial subscription or account relationship
        between a network operator and a subscriber. This may correspond to residential,
        commercial, public Wi-Fi, or other service types.
      properties:
        id:
          $ref: "#/components/schemas/ServiceId"
        name:
          type: string
          maxLength: 64
          description: Optional friendly name for the service
          example: "Main Home Internet"
        description:
          type: string
          maxLength: 255
          description: Optional description of the service
          example: "Internet subscription for primary residence"
        serviceSite:
          # Optional. Present for location-specific services (e.g., residential, office), absent for general services (e.g., public Wi-Fi)
          $ref: "./ServiceSites.yaml#/components/schemas/ServiceSite"
      required:
        - id
      example:
        id: *uuid-example
        name: "Main Home Internet"
        description: "Internet subscription for primary residence"
        serviceSite:
          id: *uuid-example-2
          name: "Primary Residence"
          description: "123 Main Street"

    ServiceList:
      type: array
      description: A list of services accessible to the calling identity
      items:
        $ref: "#/components/schemas/Service"
      example:
        - id: *uuid-example
          name: "Main Home Internet"
          description: "Internet subscription for primary residence"
          serviceSite:
            id: *uuid-example-2
            name: "Primary Residence"
            description: "123 Main Street"
        - id: *uuid-example-3
          name: "Vacation Home Internet"
          description: "Internet subscription for vacation home"