| **Item** | **Details** |
|-----------|-------------|
| **Summary** | As a **service owner or API Consumer**, I want to create, modify, and delete **logically isolated network configurations** (Trust Domains) on **API Provider-managed network access devices** (such as gateways or mesh Wi-Fi), defining both network access details and associated policies (such as device limits, bandwidth, or egress rules), so that I can securely segment and govern connectivity for tenants, guests, or IoT devices with predictable behavior and lifecycle control. |
| **Roles, Actors, and Scope** | **Roles:** `customer:user`. <br> **Actors:** Service owners, API Consumers, IoT integrators, API providers. <br> **Scope:** **Order to Activate (O2A)** — Covers provisioning, modification, and removal of active network configurations. Trust Domain management corresponds to TM Forum **TMF 909A § 2.1.1 “Order to Activate”**, which governs service activation and configuration actions. |
| **Pre-conditions** | 1. The API Consumer has been onboarded with the API provider and obtained valid access credentials with appropriate scopes (e.g., `network-access-management:trust-domains:write`). <br> 2. The service owner has one or more registered API-provider-managed devices at their premises. <br> 3. The API provider has implemented the **Network Access Management (NAM)** API supporting Trust Domain configuration. |
| **Begins when** | The API Consumer sends a `POST` request to `/trust-domains` to create a new Trust Domain (optionally including expiration), providing Wi-Fi access details such as SSID, security mode, and credentials, or to `PATCH`/`DELETE` for modification or removal. |
| **Ends when** | The requested Trust Domain is created, updated, or deleted, and the configuration change is successfully reflected on the associated network access devices. |
| **Post-conditions** | - New Trust Domains are provisioned and active on designated or inferred network devices, enforcing logical traffic segmentation. <br> - Updated configurations replace previous credentials or policies. <br> - Trust Domains that are no longer assigned to any device are automatically removed. |
| **Exceptions** | - **400 Bad Request:** Invalid request parameters (e.g., malformed SSID, unsupported security mode). <br> - **401 Unauthorized:** Missing, invalid, or expired access token. <br> - **403 Forbidden:** Caller lacks sufficient authorization scope or role. <br> - **404 Not Found:** Referenced device or Trust Domain ID does not exist. <br> - **409 Conflict:** Attempt to delete a non-removable or in-use Trust Domain. |
| **References** | - [CAMARA Commonalities – User Story Template](https://github.com/camaraproject/Commonalities/blob/main/documentation/Userstory-template.md)  <br> - [TM Forum TMF 909A v1.5 § 2.1.1 – Order to Activate](https://projects.tmforum.org/wiki/display/API/TMF640+Activation+and+Configuration+API+REST+Specification)|
